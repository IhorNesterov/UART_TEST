ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"NOS_ModBus.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c"
  20              		.section	.text.GetCRC16,"ax",%progbits
  21              		.align	1
  22              		.global	GetCRC16
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	GetCRC16:
  28              	.LVL0:
  29              	.LFB130:
   1:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** #include "NOS_ModBus.h"
   2:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** #include <stdint.h>
   3:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** #include "NOS_Typedefs.h"
   4:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
   5:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** uint16_t GetCRC16(uint8_t *data, uint8_t length)
   6:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
  30              		.loc 1 6 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 6 1 is_stmt 0 view .LVU1
  36 0000 0346     		mov	r3, r0
   7:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    static const uint16_t CRCTable[] = {
  37              		.loc 1 7 4 is_stmt 1 view .LVU2
   8:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X0000, 0XC0C1, 0XC181, 0X0140, 0XC301, 0X03C0, 0X0280, 0XC241,
   9:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XC601, 0X06C0, 0X0780, 0XC741, 0X0500, 0XC5C1, 0XC481, 0X0440,
  10:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XCC01, 0X0CC0, 0X0D80, 0XCD41, 0X0F00, 0XCFC1, 0XCE81, 0X0E40,
  11:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X0A00, 0XCAC1, 0XCB81, 0X0B40, 0XC901, 0X09C0, 0X0880, 0XC841,
  12:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XD801, 0X18C0, 0X1980, 0XD941, 0X1B00, 0XDBC1, 0XDA81, 0X1A40,
  13:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X1E00, 0XDEC1, 0XDF81, 0X1F40, 0XDD01, 0X1DC0, 0X1C80, 0XDC41,
  14:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X1400, 0XD4C1, 0XD581, 0X1540, 0XD701, 0X17C0, 0X1680, 0XD641,
  15:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XD201, 0X12C0, 0X1380, 0XD341, 0X1100, 0XD1C1, 0XD081, 0X1040,
  16:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XF001, 0X30C0, 0X3180, 0XF141, 0X3300, 0XF3C1, 0XF281, 0X3240,
  17:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X3600, 0XF6C1, 0XF781, 0X3740, 0XF501, 0X35C0, 0X3480, 0XF441,
  18:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X3C00, 0XFCC1, 0XFD81, 0X3D40, 0XFF01, 0X3FC0, 0X3E80, 0XFE41,
  19:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XFA01, 0X3AC0, 0X3B80, 0XFB41, 0X3900, 0XF9C1, 0XF881, 0X3840,
  20:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X2800, 0XE8C1, 0XE981, 0X2940, 0XEB01, 0X2BC0, 0X2A80, 0XEA41,
  21:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XEE01, 0X2EC0, 0X2F80, 0XEF41, 0X2D00, 0XEDC1, 0XEC81, 0X2C40,
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 2


  22:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XE401, 0X24C0, 0X2580, 0XE541, 0X2700, 0XE7C1, 0XE681, 0X2640,
  23:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X2200, 0XE2C1, 0XE381, 0X2340, 0XE101, 0X21C0, 0X2080, 0XE041,
  24:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XA001, 0X60C0, 0X6180, 0XA141, 0X6300, 0XA3C1, 0XA281, 0X6240,
  25:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X6600, 0XA6C1, 0XA781, 0X6740, 0XA501, 0X65C0, 0X6480, 0XA441,
  26:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X6C00, 0XACC1, 0XAD81, 0X6D40, 0XAF01, 0X6FC0, 0X6E80, 0XAE41,
  27:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XAA01, 0X6AC0, 0X6B80, 0XAB41, 0X6900, 0XA9C1, 0XA881, 0X6840,
  28:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X7800, 0XB8C1, 0XB981, 0X7940, 0XBB01, 0X7BC0, 0X7A80, 0XBA41,
  29:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XBE01, 0X7EC0, 0X7F80, 0XBF41, 0X7D00, 0XBDC1, 0XBC81, 0X7C40,
  30:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0XB401, 0X74C0, 0X7580, 0XB541, 0X7700, 0XB7C1, 0XB681, 0X7640,
  31:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X7200, 0XB2C1, 0XB381, 0X7340, 0XB101, 0X71C0, 0X7080, 0XB041,
  32:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X5000, 0X90C1, 0X9181, 0X5140, 0X9301, 0X53C0, 0X5280, 0X9241,
  33:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X9601, 0X56C0, 0X5780, 0X9741, 0X5500, 0X95C1, 0X9481, 0X5440,
  34:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X9C01, 0X5CC0, 0X5D80, 0X9D41, 0X5F00, 0X9FC1, 0X9E81, 0X5E40,
  35:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X5A00, 0X9AC1, 0X9B81, 0X5B40, 0X9901, 0X59C0, 0X5880, 0X9841,
  36:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X8801, 0X48C0, 0X4980, 0X8941, 0X4B00, 0X8BC1, 0X8A81, 0X4A40,
  37:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X4E00, 0X8EC1, 0X8F81, 0X4F40, 0X8D01, 0X4DC0, 0X4C80, 0X8C41,
  38:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X4400, 0X84C1, 0X8581, 0X4540, 0X8701, 0X47C0, 0X4680, 0X8641,
  39:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****        0X8201, 0X42C0, 0X4380, 0X8341, 0X4100, 0X81C1, 0X8081, 0X4040};
  40:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  41:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    uint8_t temp;
  38              		.loc 1 41 4 view .LVU3
  42:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    uint16_t CRCWord = 0xFFFF;
  39              		.loc 1 42 4 view .LVU4
  40              	.LVL1:
  43:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  44:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    while (length--)
  41              		.loc 1 44 4 view .LVU5
  42:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    uint16_t CRCWord = 0xFFFF;
  42              		.loc 1 42 13 is_stmt 0 view .LVU6
  43 0002 4FF6FF70 		movw	r0, #65535
  44              	.LVL2:
  45              		.loc 1 44 11 is_stmt 1 view .LVU7
  46              		.loc 1 44 17 is_stmt 0 view .LVU8
  47 0006 4A1E     		subs	r2, r1, #1
  48 0008 D2B2     		uxtb	r2, r2
  49              	.LVL3:
  50              		.loc 1 44 11 view .LVU9
  51 000a 89B1     		cbz	r1, .L8
   6:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    static const uint16_t CRCTable[] = {
  52              		.loc 1 6 1 view .LVU10
  53 000c 10B4     		push	{r4}
  54              		.cfi_def_cfa_offset 4
  55              		.cfi_offset 4, -4
  56              	.L3:
  45:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  46:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       temp = *data++ ^ CRCWord;
  57              		.loc 1 46 7 is_stmt 1 view .LVU11
  58              	.LVL4:
  59              		.loc 1 46 14 is_stmt 0 view .LVU12
  60 000e 13F8011B 		ldrb	r1, [r3], #1	@ zero_extendqisi2
  61              	.LVL5:
  62              		.loc 1 46 22 view .LVU13
  63 0012 C4B2     		uxtb	r4, r0
  64              		.loc 1 46 12 view .LVU14
  65 0014 6140     		eors	r1, r1, r4
  66              	.LVL6:
  47:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       CRCWord >>= 8;
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 3


  67              		.loc 1 47 7 is_stmt 1 view .LVU15
  48:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       CRCWord ^= CRCTable[temp];
  68              		.loc 1 48 7 view .LVU16
  69              		.loc 1 48 26 is_stmt 0 view .LVU17
  70 0016 074C     		ldr	r4, .L9
  71 0018 34F81110 		ldrh	r1, [r4, r1, lsl #1]
  72              	.LVL7:
  73              		.loc 1 48 15 view .LVU18
  74 001c 81EA1020 		eor	r0, r1, r0, lsr #8
  75              	.LVL8:
  44:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  76              		.loc 1 44 17 view .LVU19
  77 0020 1146     		mov	r1, r2
  44:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  78              		.loc 1 44 11 is_stmt 1 view .LVU20
  44:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  79              		.loc 1 44 17 is_stmt 0 view .LVU21
  80 0022 013A     		subs	r2, r2, #1
  81              	.LVL9:
  44:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  82              		.loc 1 44 17 view .LVU22
  83 0024 D2B2     		uxtb	r2, r2
  84              	.LVL10:
  44:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  85              		.loc 1 44 11 view .LVU23
  86 0026 0029     		cmp	r1, #0
  87 0028 F1D1     		bne	.L3
  49:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
  50:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    return CRCWord;
  88              		.loc 1 50 4 is_stmt 1 view .LVU24
  51:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
  89              		.loc 1 51 1 is_stmt 0 view .LVU25
  90 002a 5DF8044B 		ldr	r4, [sp], #4
  91              		.cfi_restore 4
  92              		.cfi_def_cfa_offset 0
  93 002e 7047     		bx	lr
  94              	.LVL11:
  95              	.L8:
  96              		.loc 1 51 1 view .LVU26
  97 0030 7047     		bx	lr
  98              	.L10:
  99 0032 00BF     		.align	2
 100              	.L9:
 101 0034 00000000 		.word	CRCTable.0
 102              		.cfi_endproc
 103              	.LFE130:
 105              		.section	.text.NOS_ModBus_ParseMasterCommand,"ax",%progbits
 106              		.align	1
 107              		.global	NOS_ModBus_ParseMasterCommand
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	NOS_ModBus_ParseMasterCommand:
 113              	.LVL12:
 114              	.LFB131:
  52:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  53:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_ParseMasterCommand(ModBus_Master_Command *master, uint8_t *buff, uint8_t offset)
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 4


  54:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 115              		.loc 1 54 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		@ link register save eliminated.
  55:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    NOS_Short com;
 120              		.loc 1 55 4 view .LVU28
  56:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    master->Addr = buff[offset];
 121              		.loc 1 56 4 view .LVU29
 122              		.loc 1 56 23 is_stmt 0 view .LVU30
 123 0000 8B5C     		ldrb	r3, [r1, r2]	@ zero_extendqisi2
 124              		.loc 1 56 17 view .LVU31
 125 0002 0370     		strb	r3, [r0]
  57:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    master->Command = buff[offset + 1];
 126              		.loc 1 57 4 is_stmt 1 view .LVU32
 127              		.loc 1 57 26 is_stmt 0 view .LVU33
 128 0004 8B18     		adds	r3, r1, r2
 129 0006 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 130              		.loc 1 57 20 view .LVU34
 131 0008 4370     		strb	r3, [r0, #1]
  58:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  59:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    switch (master->Command)
 132              		.loc 1 59 4 is_stmt 1 view .LVU35
 133 000a 062B     		cmp	r3, #6
 134 000c 16D0     		beq	.L12
 135 000e 102B     		cmp	r3, #16
 136 0010 26D0     		beq	.L13
 137 0012 032B     		cmp	r3, #3
 138 0014 00D0     		beq	.L15
 139              	.LVL13:
 140              	.L11:
  60:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
  61:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    case 0x03:
  62:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 2];
  63:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
  64:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
  65:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 4];
  66:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
  67:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
  68:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
  69:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  70:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    case 0x06:
  71:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 2];
  72:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
  73:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
  74:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 4];
  75:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
  76:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->ShortValue.data = com.data;
  77:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
  78:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  79:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    case 0x10:
  80:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 3];
  81:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 4];
  82:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
  83:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 5];
  84:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 6];
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 5


  85:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
  86:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Byte_Count = buff[offset + 7];
  87:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[3] = buff[offset + 8];
  88:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[2] = buff[offset + 9];
  89:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[1] = buff[offset + 10];
  90:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[0] = buff[offset + 11];
  91:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
  92:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  93:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    default:
  94:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       // NOS_Error_Handler("Master command out of range");
  95:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
  96:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
  97:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 141              		.loc 1 97 1 is_stmt 0 view .LVU36
 142 0016 7047     		bx	lr
 143              	.LVL14:
 144              	.L15:
  62:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 145              		.loc 1 62 7 is_stmt 1 view .LVU37
  62:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 146              		.loc 1 62 26 is_stmt 0 view .LVU38
 147 0018 0A44     		add	r2, r2, r1
 148              	.LVL15:
  62:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 149              		.loc 1 62 26 view .LVU39
 150 001a 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 151              	.LVL16:
  62:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 152              		.loc 1 62 20 view .LVU40
 153 001c 4FF00003 		mov	r3, #0	@ movhi
 154              	.LVL17:
  62:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 155              		.loc 1 62 20 view .LVU41
 156 0020 61F30F23 		bfi	r3, r1, #8, #8
 157              	.LVL18:
  63:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 158              		.loc 1 63 7 is_stmt 1 view .LVU42
  63:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 159              		.loc 1 63 26 is_stmt 0 view .LVU43
 160 0024 D178     		ldrb	r1, [r2, #3]	@ zero_extendqisi2
  63:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 161              		.loc 1 63 20 view .LVU44
 162 0026 61F30703 		bfi	r3, r1, #0, #8
  64:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 4];
 163              		.loc 1 64 7 is_stmt 1 view .LVU45
  64:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 4];
 164              		.loc 1 64 29 is_stmt 0 view .LVU46
 165 002a 8380     		strh	r3, [r0, #4]	@ movhi
  65:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
 166              		.loc 1 65 7 is_stmt 1 view .LVU47
  65:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
 167              		.loc 1 65 26 is_stmt 0 view .LVU48
 168 002c 1179     		ldrb	r1, [r2, #4]	@ zero_extendqisi2
  65:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
 169              		.loc 1 65 20 view .LVU49
 170 002e 61F30F23 		bfi	r3, r1, #8, #8
  66:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 6


 171              		.loc 1 66 7 is_stmt 1 view .LVU50
  66:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
 172              		.loc 1 66 26 is_stmt 0 view .LVU51
 173 0032 5279     		ldrb	r2, [r2, #5]	@ zero_extendqisi2
  66:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
 174              		.loc 1 66 20 view .LVU52
 175 0034 62F30703 		bfi	r3, r2, #0, #8
  67:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 176              		.loc 1 67 7 is_stmt 1 view .LVU53
  67:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 177              		.loc 1 67 30 is_stmt 0 view .LVU54
 178 0038 C380     		strh	r3, [r0, #6]	@ movhi
  68:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 179              		.loc 1 68 7 is_stmt 1 view .LVU55
 180 003a 7047     		bx	lr
 181              	.LVL19:
 182              	.L12:
  71:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 183              		.loc 1 71 7 view .LVU56
  71:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 184              		.loc 1 71 26 is_stmt 0 view .LVU57
 185 003c 0A44     		add	r2, r2, r1
 186              	.LVL20:
  71:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 187              		.loc 1 71 26 view .LVU58
 188 003e 9178     		ldrb	r1, [r2, #2]	@ zero_extendqisi2
 189              	.LVL21:
  71:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 190              		.loc 1 71 20 view .LVU59
 191 0040 4FF00003 		mov	r3, #0	@ movhi
  71:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 3];
 192              		.loc 1 71 20 view .LVU60
 193 0044 61F30F23 		bfi	r3, r1, #8, #8
 194              	.LVL22:
  72:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 195              		.loc 1 72 7 is_stmt 1 view .LVU61
  72:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 196              		.loc 1 72 26 is_stmt 0 view .LVU62
 197 0048 D178     		ldrb	r1, [r2, #3]	@ zero_extendqisi2
  72:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 198              		.loc 1 72 20 view .LVU63
 199 004a 61F30703 		bfi	r3, r1, #0, #8
  73:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 4];
 200              		.loc 1 73 7 is_stmt 1 view .LVU64
  73:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 4];
 201              		.loc 1 73 29 is_stmt 0 view .LVU65
 202 004e 8380     		strh	r3, [r0, #4]	@ movhi
  74:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
 203              		.loc 1 74 7 is_stmt 1 view .LVU66
  74:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
 204              		.loc 1 74 26 is_stmt 0 view .LVU67
 205 0050 1179     		ldrb	r1, [r2, #4]	@ zero_extendqisi2
  74:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 5];
 206              		.loc 1 74 20 view .LVU68
 207 0052 61F30F23 		bfi	r3, r1, #8, #8
  75:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->ShortValue.data = com.data;
 208              		.loc 1 75 7 is_stmt 1 view .LVU69
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 7


  75:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->ShortValue.data = com.data;
 209              		.loc 1 75 26 is_stmt 0 view .LVU70
 210 0056 5279     		ldrb	r2, [r2, #5]	@ zero_extendqisi2
  75:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->ShortValue.data = com.data;
 211              		.loc 1 75 20 view .LVU71
 212 0058 62F30703 		bfi	r3, r2, #0, #8
  76:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 213              		.loc 1 76 7 is_stmt 1 view .LVU72
  76:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 214              		.loc 1 76 31 is_stmt 0 view .LVU73
 215 005c 0381     		strh	r3, [r0, #8]	@ movhi
  77:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 216              		.loc 1 77 7 is_stmt 1 view .LVU74
 217 005e 7047     		bx	lr
 218              	.LVL23:
 219              	.L13:
  80:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 4];
 220              		.loc 1 80 7 view .LVU75
  80:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 4];
 221              		.loc 1 80 26 is_stmt 0 view .LVU76
 222 0060 0A44     		add	r2, r2, r1
 223              	.LVL24:
  80:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 4];
 224              		.loc 1 80 26 view .LVU77
 225 0062 D178     		ldrb	r1, [r2, #3]	@ zero_extendqisi2
 226              	.LVL25:
  80:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 4];
 227              		.loc 1 80 20 view .LVU78
 228 0064 4FF00003 		mov	r3, #0	@ movhi
  80:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 4];
 229              		.loc 1 80 20 view .LVU79
 230 0068 61F30F23 		bfi	r3, r1, #8, #8
 231              	.LVL26:
  81:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 232              		.loc 1 81 7 is_stmt 1 view .LVU80
  81:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 233              		.loc 1 81 26 is_stmt 0 view .LVU81
 234 006c 1179     		ldrb	r1, [r2, #4]	@ zero_extendqisi2
  81:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Addr.data = com.data;
 235              		.loc 1 81 20 view .LVU82
 236 006e 61F30703 		bfi	r3, r1, #0, #8
  82:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 5];
 237              		.loc 1 82 7 is_stmt 1 view .LVU83
  82:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[1] = buff[offset + 5];
 238              		.loc 1 82 29 is_stmt 0 view .LVU84
 239 0072 8380     		strh	r3, [r0, #4]	@ movhi
  83:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 6];
 240              		.loc 1 83 7 is_stmt 1 view .LVU85
  83:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 6];
 241              		.loc 1 83 26 is_stmt 0 view .LVU86
 242 0074 5179     		ldrb	r1, [r2, #5]	@ zero_extendqisi2
  83:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       com.bytes[0] = buff[offset + 6];
 243              		.loc 1 83 20 view .LVU87
 244 0076 61F30F23 		bfi	r3, r1, #8, #8
  84:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
 245              		.loc 1 84 7 is_stmt 1 view .LVU88
  84:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 8


 246              		.loc 1 84 26 is_stmt 0 view .LVU89
 247 007a 9179     		ldrb	r1, [r2, #6]	@ zero_extendqisi2
  84:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Reg_Count.data = com.data;
 248              		.loc 1 84 20 view .LVU90
 249 007c 61F30703 		bfi	r3, r1, #0, #8
  85:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Byte_Count = buff[offset + 7];
 250              		.loc 1 85 7 is_stmt 1 view .LVU91
  85:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->Byte_Count = buff[offset + 7];
 251              		.loc 1 85 30 is_stmt 0 view .LVU92
 252 0080 C380     		strh	r3, [r0, #6]	@ movhi
  86:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[3] = buff[offset + 8];
 253              		.loc 1 86 7 is_stmt 1 view .LVU93
  86:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[3] = buff[offset + 8];
 254              		.loc 1 86 32 is_stmt 0 view .LVU94
 255 0082 D379     		ldrb	r3, [r2, #7]	@ zero_extendqisi2
 256              	.LVL27:
  86:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[3] = buff[offset + 8];
 257              		.loc 1 86 26 view .LVU95
 258 0084 8370     		strb	r3, [r0, #2]
  87:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[2] = buff[offset + 9];
 259              		.loc 1 87 7 is_stmt 1 view .LVU96
  87:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[2] = buff[offset + 9];
 260              		.loc 1 87 41 is_stmt 0 view .LVU97
 261 0086 137A     		ldrb	r3, [r2, #8]	@ zero_extendqisi2
  87:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[2] = buff[offset + 9];
 262              		.loc 1 87 35 view .LVU98
 263 0088 C373     		strb	r3, [r0, #15]
  88:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[1] = buff[offset + 10];
 264              		.loc 1 88 7 is_stmt 1 view .LVU99
  88:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[1] = buff[offset + 10];
 265              		.loc 1 88 41 is_stmt 0 view .LVU100
 266 008a 537A     		ldrb	r3, [r2, #9]	@ zero_extendqisi2
  88:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[1] = buff[offset + 10];
 267              		.loc 1 88 35 view .LVU101
 268 008c 8373     		strb	r3, [r0, #14]
  89:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[0] = buff[offset + 11];
 269              		.loc 1 89 7 is_stmt 1 view .LVU102
  89:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[0] = buff[offset + 11];
 270              		.loc 1 89 41 is_stmt 0 view .LVU103
 271 008e 937A     		ldrb	r3, [r2, #10]	@ zero_extendqisi2
  89:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       master->FloatValue.bytes[0] = buff[offset + 11];
 272              		.loc 1 89 35 view .LVU104
 273 0090 4373     		strb	r3, [r0, #13]
  90:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 274              		.loc 1 90 7 is_stmt 1 view .LVU105
  90:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 275              		.loc 1 90 41 is_stmt 0 view .LVU106
 276 0092 D37A     		ldrb	r3, [r2, #11]	@ zero_extendqisi2
  90:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 277              		.loc 1 90 35 view .LVU107
 278 0094 0373     		strb	r3, [r0, #12]
  91:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 279              		.loc 1 91 7 is_stmt 1 view .LVU108
 280              		.loc 1 97 1 is_stmt 0 view .LVU109
 281 0096 BEE7     		b	.L11
 282              		.cfi_endproc
 283              	.LFE131:
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 9


 285              		.section	.text.NOS_ModBus_ParseSlaveCommand,"ax",%progbits
 286              		.align	1
 287              		.global	NOS_ModBus_ParseSlaveCommand
 288              		.syntax unified
 289              		.thumb
 290              		.thumb_func
 292              	NOS_ModBus_ParseSlaveCommand:
 293              	.LVL28:
 294              	.LFB132:
  98:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
  99:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_ParseSlaveCommand(ModBus_Slave_Command *slave, uint8_t *buff, uint8_t offset)
 100:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 295              		.loc 1 100 1 is_stmt 1 view -0
 296              		.cfi_startproc
 297              		@ args = 0, pretend = 0, frame = 0
 298              		@ frame_needed = 0, uses_anonymous_args = 0
 299              		@ link register save eliminated.
 101:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    slave->Addr = buff[offset];
 300              		.loc 1 101 4 view .LVU111
 301              		.loc 1 101 22 is_stmt 0 view .LVU112
 302 0000 8B5C     		ldrb	r3, [r1, r2]	@ zero_extendqisi2
 303              		.loc 1 101 16 view .LVU113
 304 0002 4370     		strb	r3, [r0, #1]
 102:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    slave->Command = buff[offset + 1];
 305              		.loc 1 102 4 is_stmt 1 view .LVU114
 306              		.loc 1 102 25 is_stmt 0 view .LVU115
 307 0004 01EB020C 		add	ip, r1, r2
 308 0008 9CF80130 		ldrb	r3, [ip, #1]	@ zero_extendqisi2
 309              		.loc 1 102 19 view .LVU116
 310 000c 8370     		strb	r3, [r0, #2]
 103:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    slave->Byte_Count = buff[offset + 2];
 311              		.loc 1 103 4 is_stmt 1 view .LVU117
 312              		.loc 1 103 28 is_stmt 0 view .LVU118
 313 000e 9CF802C0 		ldrb	ip, [ip, #2]	@ zero_extendqisi2
 314              		.loc 1 103 22 view .LVU119
 315 0012 80F803C0 		strb	ip, [r0, #3]
 104:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 105:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    switch (slave->Command)
 316              		.loc 1 105 4 is_stmt 1 view .LVU120
 317 0016 032B     		cmp	r3, #3
 318 0018 00D0     		beq	.L19
 319              	.LVL29:
 320              	.L16:
 106:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 107:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    case 0x03:
 108:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       if (slave->Byte_Count == 2)
 109:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 110:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->ShortValue.bytes[1] = buff[offset + 3];
 111:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->ShortValue.bytes[0] = buff[offset + 4];
 112:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 113:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       else
 114:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 115:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[3] = buff[offset + 3];
 116:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[2] = buff[offset + 4];
 117:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[1] = buff[offset + 5];
 118:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[0] = buff[offset + 6];
 119:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 10


 120:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 121:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 122:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    default:
 123:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       //         NOS_Error_Handler("Slave command out of range");
 124:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       break;
 125:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 126:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 321              		.loc 1 126 1 is_stmt 0 view .LVU121
 322 001a 7047     		bx	lr
 323              	.LVL30:
 324              	.L19:
 108:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 325              		.loc 1 108 7 is_stmt 1 view .LVU122
 108:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 326              		.loc 1 108 10 is_stmt 0 view .LVU123
 327 001c BCF1020F 		cmp	ip, #2
 328 0020 09D0     		beq	.L20
 115:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[2] = buff[offset + 4];
 329              		.loc 1 115 10 is_stmt 1 view .LVU124
 115:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[2] = buff[offset + 4];
 330              		.loc 1 115 43 is_stmt 0 view .LVU125
 331 0022 0A44     		add	r2, r2, r1
 332              	.LVL31:
 115:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[2] = buff[offset + 4];
 333              		.loc 1 115 43 view .LVU126
 334 0024 D378     		ldrb	r3, [r2, #3]	@ zero_extendqisi2
 115:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[2] = buff[offset + 4];
 335              		.loc 1 115 37 view .LVU127
 336 0026 C372     		strb	r3, [r0, #11]
 116:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[1] = buff[offset + 5];
 337              		.loc 1 116 10 is_stmt 1 view .LVU128
 116:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[1] = buff[offset + 5];
 338              		.loc 1 116 43 is_stmt 0 view .LVU129
 339 0028 1379     		ldrb	r3, [r2, #4]	@ zero_extendqisi2
 116:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[1] = buff[offset + 5];
 340              		.loc 1 116 37 view .LVU130
 341 002a 8372     		strb	r3, [r0, #10]
 117:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[0] = buff[offset + 6];
 342              		.loc 1 117 10 is_stmt 1 view .LVU131
 117:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[0] = buff[offset + 6];
 343              		.loc 1 117 43 is_stmt 0 view .LVU132
 344 002c 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 117:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->FloatValue.bytes[0] = buff[offset + 6];
 345              		.loc 1 117 37 view .LVU133
 346 002e 4372     		strb	r3, [r0, #9]
 118:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 347              		.loc 1 118 10 is_stmt 1 view .LVU134
 118:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 348              		.loc 1 118 43 is_stmt 0 view .LVU135
 349 0030 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 118:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 350              		.loc 1 118 37 view .LVU136
 351 0032 0372     		strb	r3, [r0, #8]
 352              		.loc 1 126 1 view .LVU137
 353 0034 F1E7     		b	.L16
 354              	.LVL32:
 355              	.L20:
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 11


 110:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->ShortValue.bytes[0] = buff[offset + 4];
 356              		.loc 1 110 10 is_stmt 1 view .LVU138
 110:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->ShortValue.bytes[0] = buff[offset + 4];
 357              		.loc 1 110 43 is_stmt 0 view .LVU139
 358 0036 1144     		add	r1, r1, r2
 359              	.LVL33:
 110:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->ShortValue.bytes[0] = buff[offset + 4];
 360              		.loc 1 110 43 view .LVU140
 361 0038 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 110:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          slave->ShortValue.bytes[0] = buff[offset + 4];
 362              		.loc 1 110 37 view .LVU141
 363 003a C371     		strb	r3, [r0, #7]
 111:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 364              		.loc 1 111 10 is_stmt 1 view .LVU142
 111:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 365              		.loc 1 111 43 is_stmt 0 view .LVU143
 366 003c 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 111:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 367              		.loc 1 111 37 view .LVU144
 368 003e 8371     		strb	r3, [r0, #6]
 369 0040 7047     		bx	lr
 370              		.cfi_endproc
 371              	.LFE132:
 373              		.section	.text.NOS_ModBus_AddShortValueToBuff,"ax",%progbits
 374              		.align	1
 375              		.global	NOS_ModBus_AddShortValueToBuff
 376              		.syntax unified
 377              		.thumb
 378              		.thumb_func
 380              	NOS_ModBus_AddShortValueToBuff:
 381              	.LVL34:
 382              	.LFB133:
 127:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 128:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_AddShortValueToBuff(ModBus_Struct *mb, NOS_Short value)
 129:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 383              		.loc 1 129 1 is_stmt 1 view -0
 384              		.cfi_startproc
 385              		@ args = 0, pretend = 0, frame = 0
 386              		@ frame_needed = 0, uses_anonymous_args = 0
 387              		@ link register save eliminated.
 130:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 388              		.loc 1 130 1 view .LVU146
 389 0000 7047     		bx	lr
 390              		.cfi_endproc
 391              	.LFE133:
 393              		.section	.text.NOS_ModBus_SetSlaveCommand,"ax",%progbits
 394              		.align	1
 395              		.global	NOS_ModBus_SetSlaveCommand
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 400              	NOS_ModBus_SetSlaveCommand:
 401              	.LVL35:
 402              	.LFB134:
 131:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 132:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_SetSlaveCommand(ModBus_Slave_Command *slave, uint8_t addr, uint8_t command, uint8_t
 133:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 12


 403              		.loc 1 133 1 view -0
 404              		.cfi_startproc
 405              		@ args = 12, pretend = 0, frame = 0
 406              		@ frame_needed = 0, uses_anonymous_args = 0
 407              		@ link register save eliminated.
 134:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    slave->Addr = addr;
 408              		.loc 1 134 4 view .LVU148
 409              		.loc 1 134 16 is_stmt 0 view .LVU149
 410 0000 4170     		strb	r1, [r0, #1]
 135:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    slave->Byte_Count = byteCount;
 411              		.loc 1 135 4 is_stmt 1 view .LVU150
 412              		.loc 1 135 22 is_stmt 0 view .LVU151
 413 0002 C370     		strb	r3, [r0, #3]
 136:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    slave->ShortValue = sVal;
 414              		.loc 1 136 4 is_stmt 1 view .LVU152
 415              		.loc 1 136 22 is_stmt 0 view .LVU153
 416 0004 BDF80430 		ldrh	r3, [sp, #4]
 417              	.LVL36:
 418              		.loc 1 136 22 view .LVU154
 419 0008 C380     		strh	r3, [r0, #6]	@ movhi
 137:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 420              		.loc 1 137 1 view .LVU155
 421 000a 7047     		bx	lr
 422              		.cfi_endproc
 423              	.LFE134:
 425              		.section	.text.NOS_ModBus_InitDevice,"ax",%progbits
 426              		.align	1
 427              		.global	NOS_ModBus_InitDevice
 428              		.syntax unified
 429              		.thumb
 430              		.thumb_func
 432              	NOS_ModBus_InitDevice:
 433              	.LVL37:
 434              	.LFB135:
 138:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 139:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_InitDevice(Modbus_Device *device, uint8_t address, NOS_Short *regAddrs, uint8_t reg
 140:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 435              		.loc 1 140 1 is_stmt 1 view -0
 436              		.cfi_startproc
 437              		@ args = 4, pretend = 0, frame = 0
 438              		@ frame_needed = 0, uses_anonymous_args = 0
 439              		@ link register save eliminated.
 141:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (address > 0 && address < 249)
 440              		.loc 1 141 4 view .LVU157
 441              		.loc 1 141 20 is_stmt 0 view .LVU158
 442 0000 01F1FF3C 		add	ip, r1, #-1
 443 0004 5FFA8CFC 		uxtb	ip, ip
 444              		.loc 1 141 7 view .LVU159
 445 0008 BCF1F70F 		cmp	ip, #247
 446 000c 05D8     		bhi	.L23
 142:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 143:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       device->Addr = address;
 447              		.loc 1 143 7 is_stmt 1 view .LVU160
 448              		.loc 1 143 20 is_stmt 0 view .LVU161
 449 000e 4170     		strb	r1, [r0, #1]
 144:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       device->RegisterAddress = regAddrs;
 450              		.loc 1 144 7 is_stmt 1 view .LVU162
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 13


 451              		.loc 1 144 31 is_stmt 0 view .LVU163
 452 0010 4260     		str	r2, [r0, #4]
 145:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       device->RegisterCount = regCount;
 453              		.loc 1 145 7 is_stmt 1 view .LVU164
 454              		.loc 1 145 29 is_stmt 0 view .LVU165
 455 0012 8370     		strb	r3, [r0, #2]
 146:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       device->Descriptor = _descriptor;
 456              		.loc 1 146 7 is_stmt 1 view .LVU166
 457              		.loc 1 146 26 is_stmt 0 view .LVU167
 458 0014 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 459              	.LVL38:
 460              		.loc 1 146 26 view .LVU168
 461 0018 0370     		strb	r3, [r0]
 462              	.LVL39:
 463              	.L23:
 147:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 148:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 464              		.loc 1 148 1 view .LVU169
 465 001a 7047     		bx	lr
 466              		.cfi_endproc
 467              	.LFE135:
 469              		.section	.text.NOS_ModBus_ReceiveHandler,"ax",%progbits
 470              		.align	1
 471              		.global	NOS_ModBus_ReceiveHandler
 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 476              	NOS_ModBus_ReceiveHandler:
 477              	.LVL40:
 478              	.LFB136:
 149:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 150:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_GetParam(Modbus_Device *device);
 151:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 152:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_ReceiveHandler(ModBus_Struct *MB_struct)
 153:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 479              		.loc 1 153 1 is_stmt 1 view -0
 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 0, uses_anonymous_args = 0
 483              		.loc 1 153 1 is_stmt 0 view .LVU171
 484 0000 08B5     		push	{r3, lr}
 485              		.cfi_def_cfa_offset 8
 486              		.cfi_offset 3, -8
 487              		.cfi_offset 14, -4
 154:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    uint8_t *rx_buff_ptr = MB_struct->rx_buff;
 488              		.loc 1 154 4 is_stmt 1 view .LVU172
 489              		.loc 1 154 13 is_stmt 0 view .LVU173
 490 0002 016F     		ldr	r1, [r0, #112]
 491              	.LVL41:
 155:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 156:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    for (int i = 0; i < MB_struct->devicesCount; i++)
 492              		.loc 1 156 4 is_stmt 1 view .LVU174
 493              	.LBB2:
 494              		.loc 1 156 9 view .LVU175
 495              		.loc 1 156 13 is_stmt 0 view .LVU176
 496 0004 0023     		movs	r3, #0
 497              		.loc 1 156 4 view .LVU177
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 14


 498 0006 03E0     		b	.L26
 499              	.LVL42:
 500              	.L28:
 157:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       if (*rx_buff_ptr == MB_struct->devices[i].Addr && !MB_struct->addressOk)
 159:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 160:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->currDevice = i;
 161:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->addressOk = true;
 162:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->messageLenght = 0;
 163:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          if (MB_struct->devices[i].Descriptor == 0)
 164:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          {
 165:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****             MB_struct->state = ReceiveFromSlave;
 166:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          }
 167:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          else
 168:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          {
 169:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****             MB_struct->state = ReceiveFromMaster;
 501              		.loc 1 169 13 is_stmt 1 view .LVU178
 502              		.loc 1 169 30 is_stmt 0 view .LVU179
 503 0008 0122     		movs	r2, #1
 504 000a 80F87C20 		strb	r2, [r0, #124]
 505              	.L27:
 156:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 506              		.loc 1 156 50 is_stmt 1 discriminator 2 view .LVU180
 507 000e 0133     		adds	r3, r3, #1
 508              	.LVL43:
 509              	.L26:
 156:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 510              		.loc 1 156 22 discriminator 1 view .LVU181
 156:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 511              		.loc 1 156 33 is_stmt 0 discriminator 1 view .LVU182
 512 0010 90F87D20 		ldrb	r2, [r0, #125]	@ zero_extendqisi2
 156:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 513              		.loc 1 156 22 discriminator 1 view .LVU183
 514 0014 9A42     		cmp	r2, r3
 515 0016 1ADD     		ble	.L40
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 516              		.loc 1 158 7 is_stmt 1 view .LVU184
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 517              		.loc 1 158 11 is_stmt 0 view .LVU185
 518 0018 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 519              		.loc 1 158 48 view .LVU186
 520 001c 00EBC302 		add	r2, r0, r3, lsl #3
 521 0020 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 522              		.loc 1 158 10 view .LVU187
 523 0022 9445     		cmp	ip, r2
 524 0024 F3D1     		bne	.L27
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 525              		.loc 1 158 67 discriminator 1 view .LVU188
 526 0026 90F88220 		ldrb	r2, [r0, #130]	@ zero_extendqisi2
 158:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 527              		.loc 1 158 54 discriminator 1 view .LVU189
 528 002a 002A     		cmp	r2, #0
 529 002c EFD1     		bne	.L27
 160:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->addressOk = true;
 530              		.loc 1 160 10 is_stmt 1 view .LVU190
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 15


 160:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->addressOk = true;
 531              		.loc 1 160 32 is_stmt 0 view .LVU191
 532 002e 80F88030 		strb	r3, [r0, #128]
 161:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->messageLenght = 0;
 533              		.loc 1 161 10 is_stmt 1 view .LVU192
 161:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->messageLenght = 0;
 534              		.loc 1 161 31 is_stmt 0 view .LVU193
 535 0032 0122     		movs	r2, #1
 536 0034 80F88220 		strb	r2, [r0, #130]
 162:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          if (MB_struct->devices[i].Descriptor == 0)
 537              		.loc 1 162 10 is_stmt 1 view .LVU194
 162:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          if (MB_struct->devices[i].Descriptor == 0)
 538              		.loc 1 162 35 is_stmt 0 view .LVU195
 539 0038 0022     		movs	r2, #0
 540 003a 80F87E20 		strb	r2, [r0, #126]
 163:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          {
 541              		.loc 1 163 10 is_stmt 1 view .LVU196
 163:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          {
 542              		.loc 1 163 35 is_stmt 0 view .LVU197
 543 003e 10F83320 		ldrb	r2, [r0, r3, lsl #3]	@ zero_extendqisi2
 163:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          {
 544              		.loc 1 163 13 view .LVU198
 545 0042 002A     		cmp	r2, #0
 546 0044 E0D1     		bne	.L28
 165:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          }
 547              		.loc 1 165 13 is_stmt 1 view .LVU199
 165:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          }
 548              		.loc 1 165 30 is_stmt 0 view .LVU200
 549 0046 0222     		movs	r2, #2
 550 0048 80F87C20 		strb	r2, [r0, #124]
 551 004c DFE7     		b	.L27
 552              	.L40:
 165:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          }
 553              		.loc 1 165 30 view .LVU201
 554              	.LBE2:
 170:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          }
 171:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 172:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 173:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 174:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (MB_struct->addressOk && MB_struct->messageLenght == 1)
 555              		.loc 1 174 4 is_stmt 1 view .LVU202
 556              		.loc 1 174 17 is_stmt 0 view .LVU203
 557 004e 90F88230 		ldrb	r3, [r0, #130]	@ zero_extendqisi2
 558              	.LVL44:
 559              		.loc 1 174 7 view .LVU204
 560 0052 1BB1     		cbz	r3, .L30
 561              		.loc 1 174 41 discriminator 1 view .LVU205
 562 0054 90F87E20 		ldrb	r2, [r0, #126]	@ zero_extendqisi2
 563              		.loc 1 174 29 discriminator 1 view .LVU206
 564 0058 012A     		cmp	r2, #1
 565 005a 1CD0     		beq	.L41
 566              	.L30:
 175:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 176:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->currCommand = *rx_buff_ptr;
 177:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 178:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 179:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (MB_struct->addressOk && MB_struct->messageLenght == 2)
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 16


 567              		.loc 1 179 4 is_stmt 1 view .LVU207
 568              		.loc 1 179 7 is_stmt 0 view .LVU208
 569 005c 1BB1     		cbz	r3, .L31
 570              		.loc 1 179 41 discriminator 1 view .LVU209
 571 005e 90F87E30 		ldrb	r3, [r0, #126]	@ zero_extendqisi2
 572              		.loc 1 179 29 discriminator 1 view .LVU210
 573 0062 022B     		cmp	r3, #2
 574 0064 1BD0     		beq	.L42
 575              	.L31:
 180:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 181:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       switch (MB_struct->currCommand)
 182:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 183:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       case 0x03:
 184:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->expectedMessageLenght = 7;
 185:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 186:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       case 0x06:
 187:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->expectedMessageLenght = 7;
 188:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 189:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       case 0x10:
 190:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->expectedMessageLenght = 13;
 191:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 192:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 193:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       default:
 194:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 195:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 196:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 197:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 198:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (MB_struct->messageLenght > MB_struct->expectedMessageLenght)
 576              		.loc 1 198 4 is_stmt 1 view .LVU211
 577              		.loc 1 198 17 is_stmt 0 view .LVU212
 578 0066 90F87E20 		ldrb	r2, [r0, #126]	@ zero_extendqisi2
 579              		.loc 1 198 44 view .LVU213
 580 006a 90F88130 		ldrb	r3, [r0, #129]	@ zero_extendqisi2
 581              		.loc 1 198 7 view .LVU214
 582 006e 9A42     		cmp	r2, r3
 583 0070 29D9     		bls	.L34
 199:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 200:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       rx_buff_ptr = MB_struct->rx_buff;
 584              		.loc 1 200 7 is_stmt 1 view .LVU215
 201:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->messageLenght = 0;
 585              		.loc 1 201 7 view .LVU216
 586              		.loc 1 201 32 is_stmt 0 view .LVU217
 587 0072 0023     		movs	r3, #0
 588 0074 80F87E30 		strb	r3, [r0, #126]
 202:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->addressOk = false;
 589              		.loc 1 202 7 is_stmt 1 view .LVU218
 590              		.loc 1 202 28 is_stmt 0 view .LVU219
 591 0078 80F88230 		strb	r3, [r0, #130]
 203:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->state = Free;
 592              		.loc 1 203 7 is_stmt 1 view .LVU220
 593              		.loc 1 203 24 is_stmt 0 view .LVU221
 594 007c 80F87C30 		strb	r3, [r0, #124]
 204:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       for (int i = 0; i < MB_struct->expectedMessageLenght; i++)
 595              		.loc 1 204 7 is_stmt 1 view .LVU222
 596              	.LBB3:
 597              		.loc 1 204 12 view .LVU223
 598              	.LVL45:
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 17


 599              	.L35:
 600              		.loc 1 204 25 discriminator 1 view .LVU224
 601              		.loc 1 204 36 is_stmt 0 discriminator 1 view .LVU225
 602 0080 90F88120 		ldrb	r2, [r0, #129]	@ zero_extendqisi2
 603              		.loc 1 204 25 discriminator 1 view .LVU226
 604 0084 9A42     		cmp	r2, r3
 605 0086 1EDD     		ble	.L34
 205:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 206:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          MB_struct->rx_buff[i] = 0;
 606              		.loc 1 206 10 is_stmt 1 discriminator 3 view .LVU227
 607              		.loc 1 206 19 is_stmt 0 discriminator 3 view .LVU228
 608 0088 026F     		ldr	r2, [r0, #112]
 609              		.loc 1 206 32 discriminator 3 view .LVU229
 610 008a 4FF0000C 		mov	ip, #0
 611 008e 02F803C0 		strb	ip, [r2, r3]
 204:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       for (int i = 0; i < MB_struct->expectedMessageLenght; i++)
 612              		.loc 1 204 62 is_stmt 1 discriminator 3 view .LVU230
 613 0092 0133     		adds	r3, r3, #1
 614              	.LVL46:
 204:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       for (int i = 0; i < MB_struct->expectedMessageLenght; i++)
 615              		.loc 1 204 62 is_stmt 0 discriminator 3 view .LVU231
 616 0094 F4E7     		b	.L35
 617              	.LVL47:
 618              	.L41:
 204:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       for (int i = 0; i < MB_struct->expectedMessageLenght; i++)
 619              		.loc 1 204 62 discriminator 3 view .LVU232
 620              	.LBE3:
 176:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 621              		.loc 1 176 7 is_stmt 1 view .LVU233
 176:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 622              		.loc 1 176 32 is_stmt 0 view .LVU234
 623 0096 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 176:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 624              		.loc 1 176 30 view .LVU235
 625 0098 80F87F20 		strb	r2, [r0, #127]
 626 009c DEE7     		b	.L30
 627              	.L42:
 181:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 628              		.loc 1 181 7 is_stmt 1 view .LVU236
 181:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 629              		.loc 1 181 24 is_stmt 0 view .LVU237
 630 009e 90F87F30 		ldrb	r3, [r0, #127]	@ zero_extendqisi2
 181:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       {
 631              		.loc 1 181 7 view .LVU238
 632 00a2 062B     		cmp	r3, #6
 633 00a4 07D0     		beq	.L32
 634 00a6 102B     		cmp	r3, #16
 635 00a8 09D0     		beq	.L33
 636 00aa 032B     		cmp	r3, #3
 637 00ac DBD1     		bne	.L31
 184:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 638              		.loc 1 184 10 is_stmt 1 view .LVU239
 184:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 639              		.loc 1 184 43 is_stmt 0 view .LVU240
 640 00ae 0723     		movs	r3, #7
 641 00b0 80F88130 		strb	r3, [r0, #129]
 185:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       case 0x06:
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 18


 642              		.loc 1 185 10 is_stmt 1 view .LVU241
 643 00b4 D7E7     		b	.L31
 644              	.L32:
 187:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 645              		.loc 1 187 10 view .LVU242
 187:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 646              		.loc 1 187 43 is_stmt 0 view .LVU243
 647 00b6 0723     		movs	r3, #7
 648 00b8 80F88130 		strb	r3, [r0, #129]
 188:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       case 0x10:
 649              		.loc 1 188 10 is_stmt 1 view .LVU244
 650 00bc D3E7     		b	.L31
 651              	.L33:
 190:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 652              		.loc 1 190 10 view .LVU245
 190:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****          break;
 653              		.loc 1 190 43 is_stmt 0 view .LVU246
 654 00be 0D23     		movs	r3, #13
 655 00c0 80F88130 		strb	r3, [r0, #129]
 191:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 656              		.loc 1 191 10 is_stmt 1 view .LVU247
 657 00c4 CFE7     		b	.L31
 658              	.L34:
 207:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       }
 208:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 209:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 210:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (MB_struct->addressOk && MB_struct->messageLenght == MB_struct->expectedMessageLenght)
 659              		.loc 1 210 4 view .LVU248
 660              		.loc 1 210 17 is_stmt 0 view .LVU249
 661 00c6 90F88230 		ldrb	r3, [r0, #130]	@ zero_extendqisi2
 662              		.loc 1 210 7 view .LVU250
 663 00ca 2BB1     		cbz	r3, .L37
 664              		.loc 1 210 41 discriminator 1 view .LVU251
 665 00cc 90F87E20 		ldrb	r2, [r0, #126]	@ zero_extendqisi2
 666              		.loc 1 210 69 discriminator 1 view .LVU252
 667 00d0 90F88130 		ldrb	r3, [r0, #129]	@ zero_extendqisi2
 668              		.loc 1 210 29 discriminator 1 view .LVU253
 669 00d4 9A42     		cmp	r2, r3
 670 00d6 10D0     		beq	.L43
 671              	.L37:
 211:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 212:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       rx_buff_ptr = MB_struct->rx_buff;
 213:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->addressOk = false;
 214:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->messageLenght = 0;
 215:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->rx_flag = true;
 216:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 217:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    else
 218:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 219:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->rx_buff[MB_struct->messageLenght] = *rx_buff_ptr;
 672              		.loc 1 219 7 is_stmt 1 view .LVU254
 673              		.loc 1 219 16 is_stmt 0 view .LVU255
 674 00d8 026F     		ldr	r2, [r0, #112]
 675              		.loc 1 219 35 view .LVU256
 676 00da 90F87E30 		ldrb	r3, [r0, #126]	@ zero_extendqisi2
 677              		.loc 1 219 54 view .LVU257
 678 00de 11F801CB 		ldrb	ip, [r1], #1	@ zero_extendqisi2
 679              	.LVL48:
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 19


 680              		.loc 1 219 52 view .LVU258
 681 00e2 02F803C0 		strb	ip, [r2, r3]
 220:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       ++rx_buff_ptr;
 682              		.loc 1 220 7 is_stmt 1 view .LVU259
 683              	.LVL49:
 221:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       ++MB_struct->messageLenght;
 684              		.loc 1 221 7 view .LVU260
 685              		.loc 1 221 18 is_stmt 0 view .LVU261
 686 00e6 90F87E30 		ldrb	r3, [r0, #126]	@ zero_extendqisi2
 687              		.loc 1 221 7 view .LVU262
 688 00ea 0133     		adds	r3, r3, #1
 689 00ec 80F87E30 		strb	r3, [r0, #126]
 690              	.L38:
 222:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 223:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    HAL_UART_Receive_IT(MB_struct->huart, rx_buff_ptr, 1);
 691              		.loc 1 223 4 is_stmt 1 view .LVU263
 692 00f0 0122     		movs	r2, #1
 693 00f2 C06E     		ldr	r0, [r0, #108]
 694              	.LVL50:
 695              		.loc 1 223 4 is_stmt 0 view .LVU264
 696 00f4 FFF7FEFF 		bl	HAL_UART_Receive_IT
 697              	.LVL51:
 224:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 698              		.loc 1 224 1 view .LVU265
 699 00f8 08BD     		pop	{r3, pc}
 700              	.LVL52:
 701              	.L43:
 212:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->addressOk = false;
 702              		.loc 1 212 7 is_stmt 1 view .LVU266
 212:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->addressOk = false;
 703              		.loc 1 212 19 is_stmt 0 view .LVU267
 704 00fa 016F     		ldr	r1, [r0, #112]
 705              	.LVL53:
 213:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->messageLenght = 0;
 706              		.loc 1 213 7 is_stmt 1 view .LVU268
 213:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->messageLenght = 0;
 707              		.loc 1 213 28 is_stmt 0 view .LVU269
 708 00fc 0023     		movs	r3, #0
 709 00fe 80F88230 		strb	r3, [r0, #130]
 214:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->rx_flag = true;
 710              		.loc 1 214 7 is_stmt 1 view .LVU270
 214:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       MB_struct->rx_flag = true;
 711              		.loc 1 214 32 is_stmt 0 view .LVU271
 712 0102 80F87E30 		strb	r3, [r0, #126]
 215:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 713              		.loc 1 215 7 is_stmt 1 view .LVU272
 215:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 714              		.loc 1 215 26 is_stmt 0 view .LVU273
 715 0106 0123     		movs	r3, #1
 716 0108 80F88330 		strb	r3, [r0, #131]
 717 010c F0E7     		b	.L38
 718              		.cfi_endproc
 719              	.LFE136:
 721              		.section	.text.NOS_ModBus_InitStruct,"ax",%progbits
 722              		.align	1
 723              		.global	NOS_ModBus_InitStruct
 724              		.syntax unified
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 20


 725              		.thumb
 726              		.thumb_func
 728              	NOS_ModBus_InitStruct:
 729              	.LVL54:
 730              	.LFB137:
 225:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 226:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_InitStruct(ModBus_Struct *mb, UART_HandleTypeDef *huart, uint8_t *_buff, GPIO_PIN p
 227:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 731              		.loc 1 227 1 is_stmt 1 view -0
 732              		.cfi_startproc
 733              		@ args = 12, pretend = 8, frame = 0
 734              		@ frame_needed = 0, uses_anonymous_args = 0
 735              		@ link register save eliminated.
 736              		.loc 1 227 1 is_stmt 0 view .LVU275
 737 0000 82B0     		sub	sp, sp, #8
 738              		.cfi_def_cfa_offset 8
 739 0002 EC46     		mov	ip, sp
 740 0004 4CF8043F 		str	r3, [ip, #4]!
 228:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    mb->huart = huart;
 741              		.loc 1 228 4 is_stmt 1 view .LVU276
 742              		.loc 1 228 14 is_stmt 0 view .LVU277
 743 0008 C166     		str	r1, [r0, #108]
 229:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    mb->rx_buff = _buff;
 744              		.loc 1 229 4 is_stmt 1 view .LVU278
 745              		.loc 1 229 16 is_stmt 0 view .LVU279
 746 000a 0267     		str	r2, [r0, #112]
 230:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    mb->RW = pin;
 747              		.loc 1 230 4 is_stmt 1 view .LVU280
 748              		.loc 1 230 11 is_stmt 0 view .LVU281
 749 000c 00F17403 		add	r3, r0, #116
 750 0010 9CE80300 		ldm	ip, {r0, r1}
 751              	.LVL55:
 752              		.loc 1 230 11 view .LVU282
 753 0014 83E80300 		stm	r3, {r0, r1}
 231:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 754              		.loc 1 231 1 view .LVU283
 755 0018 02B0     		add	sp, sp, #8
 756              		.cfi_def_cfa_offset 0
 757 001a 7047     		bx	lr
 758              		.cfi_endproc
 759              	.LFE137:
 761              		.section	.text.NOS_ModBus_AddDevice,"ax",%progbits
 762              		.align	1
 763              		.global	NOS_ModBus_AddDevice
 764              		.syntax unified
 765              		.thumb
 766              		.thumb_func
 768              	NOS_ModBus_AddDevice:
 769              	.LVL56:
 770              	.LFB138:
 232:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 233:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_AddDevice(ModBus_Struct *mb, Modbus_Device *device)
 234:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 771              		.loc 1 234 1 is_stmt 1 view -0
 772              		.cfi_startproc
 773              		@ args = 0, pretend = 0, frame = 0
 774              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 21


 775              		@ link register save eliminated.
 235:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (mb->devicesCount < 10)
 776              		.loc 1 235 4 view .LVU285
 777              		.loc 1 235 10 is_stmt 0 view .LVU286
 778 0000 90F87D30 		ldrb	r3, [r0, #125]	@ zero_extendqisi2
 779              		.loc 1 235 7 view .LVU287
 780 0004 092B     		cmp	r3, #9
 781 0006 14D8     		bhi	.L49
 234:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    if (mb->devicesCount < 10)
 782              		.loc 1 234 1 view .LVU288
 783 0008 10B4     		push	{r4}
 784              		.cfi_def_cfa_offset 4
 785              		.cfi_offset 4, -4
 236:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 237:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[mb->devicesCount].Addr = device->Addr;
 786              		.loc 1 237 7 is_stmt 1 view .LVU289
 787              		.loc 1 237 50 is_stmt 0 view .LVU290
 788 000a 91F801C0 		ldrb	ip, [r1, #1]	@ zero_extendqisi2
 789              		.loc 1 237 42 view .LVU291
 790 000e 00EBC302 		add	r2, r0, r3, lsl #3
 791 0012 82F801C0 		strb	ip, [r2, #1]
 238:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[mb->devicesCount].Descriptor = device->Descriptor;
 792              		.loc 1 238 7 is_stmt 1 view .LVU292
 793              		.loc 1 238 56 is_stmt 0 view .LVU293
 794 0016 91F800C0 		ldrb	ip, [r1]	@ zero_extendqisi2
 795              		.loc 1 238 48 view .LVU294
 796 001a 00F833C0 		strb	ip, [r0, r3, lsl #3]
 239:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[mb->devicesCount].RegisterAddress = device->RegisterAddress;
 797              		.loc 1 239 7 is_stmt 1 view .LVU295
 798              		.loc 1 239 53 is_stmt 0 view .LVU296
 799 001e 4C68     		ldr	r4, [r1, #4]
 800 0020 5460     		str	r4, [r2, #4]
 240:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[mb->devicesCount].RegisterCount = device->RegisterCount;
 801              		.loc 1 240 7 is_stmt 1 view .LVU297
 802              		.loc 1 240 59 is_stmt 0 view .LVU298
 803 0022 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 804              	.LVL57:
 805              		.loc 1 240 51 view .LVU299
 806 0024 9170     		strb	r1, [r2, #2]
 241:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devicesCount++;
 807              		.loc 1 241 7 is_stmt 1 view .LVU300
 808              		.loc 1 241 23 is_stmt 0 view .LVU301
 809 0026 0133     		adds	r3, r3, #1
 810 0028 80F87D30 		strb	r3, [r0, #125]
 242:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 243:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    else
 244:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 245:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       // NOS_Error_Handler("ModBus Device out of range");
 246:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 811              		.loc 1 246 4 is_stmt 1 view .LVU302
 247:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 812              		.loc 1 247 1 is_stmt 0 view .LVU303
 813 002c 5DF8044B 		ldr	r4, [sp], #4
 814              		.cfi_restore 4
 815              		.cfi_def_cfa_offset 0
 816 0030 7047     		bx	lr
 817              	.LVL58:
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 22


 818              	.L49:
 819              		.loc 1 247 1 view .LVU304
 820 0032 7047     		bx	lr
 821              		.cfi_endproc
 822              	.LFE138:
 824              		.section	.text.NOS_ModBus_DeleteDevice,"ax",%progbits
 825              		.align	1
 826              		.global	NOS_ModBus_DeleteDevice
 827              		.syntax unified
 828              		.thumb
 829              		.thumb_func
 831              	NOS_ModBus_DeleteDevice:
 832              	.LVL59:
 833              	.LFB139:
 248:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 249:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_DeleteDevice(ModBus_Struct *mb, uint8_t pos)
 250:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 834              		.loc 1 250 1 is_stmt 1 view -0
 835              		.cfi_startproc
 836              		@ args = 0, pretend = 0, frame = 0
 837              		@ frame_needed = 0, uses_anonymous_args = 0
 838              		@ link register save eliminated.
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    for (int i = pos - 1; i < mb->devicesCount - 1; i++)
 839              		.loc 1 251 4 view .LVU306
 840              	.LBB4:
 841              		.loc 1 251 9 view .LVU307
 842              		.loc 1 251 13 is_stmt 0 view .LVU308
 843 0000 0139     		subs	r1, r1, #1
 844              	.LVL60:
 845              		.loc 1 251 28 is_stmt 1 view .LVU309
 846              		.loc 1 251 32 is_stmt 0 view .LVU310
 847 0002 90F87D30 		ldrb	r3, [r0, #125]	@ zero_extendqisi2
 848              		.loc 1 251 47 view .LVU311
 849 0006 5A1E     		subs	r2, r3, #1
 850              		.loc 1 251 28 view .LVU312
 851 0008 8A42     		cmp	r2, r1
 852 000a 18DD     		ble	.L59
 853              	.LBE4:
 250:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    for (int i = pos - 1; i < mb->devicesCount - 1; i++)
 854              		.loc 1 250 1 view .LVU313
 855 000c 10B4     		push	{r4}
 856              		.cfi_def_cfa_offset 4
 857              		.cfi_offset 4, -4
 858              	.L54:
 859              	.LBB5:
 252:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 253:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[i].Addr = mb->devices[i + 1].Addr;
 860              		.loc 1 253 7 is_stmt 1 discriminator 3 view .LVU314
 861              		.loc 1 253 43 is_stmt 0 discriminator 3 view .LVU315
 862 000e 4A1C     		adds	r2, r1, #1
 863              		.loc 1 253 47 discriminator 3 view .LVU316
 864 0010 00EBC203 		add	r3, r0, r2, lsl #3
 865 0014 93F801C0 		ldrb	ip, [r3, #1]	@ zero_extendqisi2
 866              		.loc 1 253 27 discriminator 3 view .LVU317
 867 0018 00EBC101 		add	r1, r0, r1, lsl #3
 868              	.LVL61:
 869              		.loc 1 253 27 discriminator 3 view .LVU318
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 23


 870 001c 81F801C0 		strb	ip, [r1, #1]
 254:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[i].RegisterAddress = mb->devices[i + 1].RegisterAddress;
 871              		.loc 1 254 7 is_stmt 1 discriminator 3 view .LVU319
 872              		.loc 1 254 38 is_stmt 0 discriminator 3 view .LVU320
 873 0020 5C68     		ldr	r4, [r3, #4]
 874 0022 4C60     		str	r4, [r1, #4]
 255:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****       mb->devices[i].RegisterCount = mb->devices[i + 1].RegisterCount;
 875              		.loc 1 255 7 is_stmt 1 discriminator 3 view .LVU321
 876              		.loc 1 255 56 is_stmt 0 discriminator 3 view .LVU322
 877 0024 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 878              		.loc 1 255 36 discriminator 3 view .LVU323
 879 0026 8B70     		strb	r3, [r1, #2]
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 880              		.loc 1 251 53 is_stmt 1 discriminator 3 view .LVU324
 881              	.LVL62:
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 882              		.loc 1 251 53 is_stmt 0 discriminator 3 view .LVU325
 883 0028 1146     		mov	r1, r2
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 884              		.loc 1 251 28 is_stmt 1 discriminator 3 view .LVU326
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 885              		.loc 1 251 32 is_stmt 0 discriminator 3 view .LVU327
 886 002a 90F87D30 		ldrb	r3, [r0, #125]	@ zero_extendqisi2
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 887              		.loc 1 251 47 discriminator 3 view .LVU328
 888 002e 5A1E     		subs	r2, r3, #1
 889              	.LVL63:
 251:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    {
 890              		.loc 1 251 28 discriminator 3 view .LVU329
 891 0030 8A42     		cmp	r2, r1
 892 0032 ECDC     		bgt	.L54
 893              	.LBE5:
 256:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    }
 257:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c ****    mb->devicesCount--;
 894              		.loc 1 257 4 is_stmt 1 view .LVU330
 895              		.loc 1 257 20 is_stmt 0 view .LVU331
 896 0034 80F87D20 		strb	r2, [r0, #125]
 258:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 897              		.loc 1 258 1 view .LVU332
 898 0038 5DF8044B 		ldr	r4, [sp], #4
 899              		.cfi_restore 4
 900              		.cfi_def_cfa_offset 0
 901 003c 7047     		bx	lr
 902              	.L59:
 257:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 903              		.loc 1 257 4 is_stmt 1 view .LVU333
 257:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }
 904              		.loc 1 257 20 is_stmt 0 view .LVU334
 905 003e 80F87D20 		strb	r2, [r0, #125]
 906 0042 7047     		bx	lr
 907              		.cfi_endproc
 908              	.LFE139:
 910              		.section	.text.NOS_ModBus_DeviceAddRegisterAddress,"ax",%progbits
 911              		.align	1
 912              		.global	NOS_ModBus_DeviceAddRegisterAddress
 913              		.syntax unified
 914              		.thumb
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 24


 915              		.thumb_func
 917              	NOS_ModBus_DeviceAddRegisterAddress:
 918              	.LVL64:
 919              	.LFB140:
 259:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 260:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** // void NOS_ModBus_InitDevice(Modbus_Device* md,uint8_t _addr)
 261:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** //{
 262:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** //    md->Addr = _addr;
 263:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** // }
 264:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** 
 265:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** void NOS_ModBus_DeviceAddRegisterAddress(Modbus_Device *mb, uint16_t rAddr)
 266:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** {
 920              		.loc 1 266 1 is_stmt 1 view -0
 921              		.cfi_startproc
 922              		@ args = 0, pretend = 0, frame = 0
 923              		@ frame_needed = 0, uses_anonymous_args = 0
 924              		@ link register save eliminated.
 267:Core/Src/NOS_LIB_Driver/Src/NOS_ModBus.c **** }...
 925              		.loc 1 267 1 view .LVU336
 926 0000 7047     		bx	lr
 927              		.cfi_endproc
 928              	.LFE140:
 930              		.section	.rodata.CRCTable.0,"a"
 931              		.align	2
 934              	CRCTable.0:
 935 0000 0000     		.short	0
 936 0002 C1C0     		.short	-16191
 937 0004 81C1     		.short	-15999
 938 0006 4001     		.short	320
 939 0008 01C3     		.short	-15615
 940 000a C003     		.short	960
 941 000c 8002     		.short	640
 942 000e 41C2     		.short	-15807
 943 0010 01C6     		.short	-14847
 944 0012 C006     		.short	1728
 945 0014 8007     		.short	1920
 946 0016 41C7     		.short	-14527
 947 0018 0005     		.short	1280
 948 001a C1C5     		.short	-14911
 949 001c 81C4     		.short	-15231
 950 001e 4004     		.short	1088
 951 0020 01CC     		.short	-13311
 952 0022 C00C     		.short	3264
 953 0024 800D     		.short	3456
 954 0026 41CD     		.short	-12991
 955 0028 000F     		.short	3840
 956 002a C1CF     		.short	-12351
 957 002c 81CE     		.short	-12671
 958 002e 400E     		.short	3648
 959 0030 000A     		.short	2560
 960 0032 C1CA     		.short	-13631
 961 0034 81CB     		.short	-13439
 962 0036 400B     		.short	2880
 963 0038 01C9     		.short	-14079
 964 003a C009     		.short	2496
 965 003c 8008     		.short	2176
 966 003e 41C8     		.short	-14271
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 25


 967 0040 01D8     		.short	-10239
 968 0042 C018     		.short	6336
 969 0044 8019     		.short	6528
 970 0046 41D9     		.short	-9919
 971 0048 001B     		.short	6912
 972 004a C1DB     		.short	-9279
 973 004c 81DA     		.short	-9599
 974 004e 401A     		.short	6720
 975 0050 001E     		.short	7680
 976 0052 C1DE     		.short	-8511
 977 0054 81DF     		.short	-8319
 978 0056 401F     		.short	8000
 979 0058 01DD     		.short	-8959
 980 005a C01D     		.short	7616
 981 005c 801C     		.short	7296
 982 005e 41DC     		.short	-9151
 983 0060 0014     		.short	5120
 984 0062 C1D4     		.short	-11071
 985 0064 81D5     		.short	-10879
 986 0066 4015     		.short	5440
 987 0068 01D7     		.short	-10495
 988 006a C017     		.short	6080
 989 006c 8016     		.short	5760
 990 006e 41D6     		.short	-10687
 991 0070 01D2     		.short	-11775
 992 0072 C012     		.short	4800
 993 0074 8013     		.short	4992
 994 0076 41D3     		.short	-11455
 995 0078 0011     		.short	4352
 996 007a C1D1     		.short	-11839
 997 007c 81D0     		.short	-12159
 998 007e 4010     		.short	4160
 999 0080 01F0     		.short	-4095
 1000 0082 C030     		.short	12480
 1001 0084 8031     		.short	12672
 1002 0086 41F1     		.short	-3775
 1003 0088 0033     		.short	13056
 1004 008a C1F3     		.short	-3135
 1005 008c 81F2     		.short	-3455
 1006 008e 4032     		.short	12864
 1007 0090 0036     		.short	13824
 1008 0092 C1F6     		.short	-2367
 1009 0094 81F7     		.short	-2175
 1010 0096 4037     		.short	14144
 1011 0098 01F5     		.short	-2815
 1012 009a C035     		.short	13760
 1013 009c 8034     		.short	13440
 1014 009e 41F4     		.short	-3007
 1015 00a0 003C     		.short	15360
 1016 00a2 C1FC     		.short	-831
 1017 00a4 81FD     		.short	-639
 1018 00a6 403D     		.short	15680
 1019 00a8 01FF     		.short	-255
 1020 00aa C03F     		.short	16320
 1021 00ac 803E     		.short	16000
 1022 00ae 41FE     		.short	-447
 1023 00b0 01FA     		.short	-1535
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 26


 1024 00b2 C03A     		.short	15040
 1025 00b4 803B     		.short	15232
 1026 00b6 41FB     		.short	-1215
 1027 00b8 0039     		.short	14592
 1028 00ba C1F9     		.short	-1599
 1029 00bc 81F8     		.short	-1919
 1030 00be 4038     		.short	14400
 1031 00c0 0028     		.short	10240
 1032 00c2 C1E8     		.short	-5951
 1033 00c4 81E9     		.short	-5759
 1034 00c6 4029     		.short	10560
 1035 00c8 01EB     		.short	-5375
 1036 00ca C02B     		.short	11200
 1037 00cc 802A     		.short	10880
 1038 00ce 41EA     		.short	-5567
 1039 00d0 01EE     		.short	-4607
 1040 00d2 C02E     		.short	11968
 1041 00d4 802F     		.short	12160
 1042 00d6 41EF     		.short	-4287
 1043 00d8 002D     		.short	11520
 1044 00da C1ED     		.short	-4671
 1045 00dc 81EC     		.short	-4991
 1046 00de 402C     		.short	11328
 1047 00e0 01E4     		.short	-7167
 1048 00e2 C024     		.short	9408
 1049 00e4 8025     		.short	9600
 1050 00e6 41E5     		.short	-6847
 1051 00e8 0027     		.short	9984
 1052 00ea C1E7     		.short	-6207
 1053 00ec 81E6     		.short	-6527
 1054 00ee 4026     		.short	9792
 1055 00f0 0022     		.short	8704
 1056 00f2 C1E2     		.short	-7487
 1057 00f4 81E3     		.short	-7295
 1058 00f6 4023     		.short	9024
 1059 00f8 01E1     		.short	-7935
 1060 00fa C021     		.short	8640
 1061 00fc 8020     		.short	8320
 1062 00fe 41E0     		.short	-8127
 1063 0100 01A0     		.short	-24575
 1064 0102 C060     		.short	24768
 1065 0104 8061     		.short	24960
 1066 0106 41A1     		.short	-24255
 1067 0108 0063     		.short	25344
 1068 010a C1A3     		.short	-23615
 1069 010c 81A2     		.short	-23935
 1070 010e 4062     		.short	25152
 1071 0110 0066     		.short	26112
 1072 0112 C1A6     		.short	-22847
 1073 0114 81A7     		.short	-22655
 1074 0116 4067     		.short	26432
 1075 0118 01A5     		.short	-23295
 1076 011a C065     		.short	26048
 1077 011c 8064     		.short	25728
 1078 011e 41A4     		.short	-23487
 1079 0120 006C     		.short	27648
 1080 0122 C1AC     		.short	-21311
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 27


 1081 0124 81AD     		.short	-21119
 1082 0126 406D     		.short	27968
 1083 0128 01AF     		.short	-20735
 1084 012a C06F     		.short	28608
 1085 012c 806E     		.short	28288
 1086 012e 41AE     		.short	-20927
 1087 0130 01AA     		.short	-22015
 1088 0132 C06A     		.short	27328
 1089 0134 806B     		.short	27520
 1090 0136 41AB     		.short	-21695
 1091 0138 0069     		.short	26880
 1092 013a C1A9     		.short	-22079
 1093 013c 81A8     		.short	-22399
 1094 013e 4068     		.short	26688
 1095 0140 0078     		.short	30720
 1096 0142 C1B8     		.short	-18239
 1097 0144 81B9     		.short	-18047
 1098 0146 4079     		.short	31040
 1099 0148 01BB     		.short	-17663
 1100 014a C07B     		.short	31680
 1101 014c 807A     		.short	31360
 1102 014e 41BA     		.short	-17855
 1103 0150 01BE     		.short	-16895
 1104 0152 C07E     		.short	32448
 1105 0154 807F     		.short	32640
 1106 0156 41BF     		.short	-16575
 1107 0158 007D     		.short	32000
 1108 015a C1BD     		.short	-16959
 1109 015c 81BC     		.short	-17279
 1110 015e 407C     		.short	31808
 1111 0160 01B4     		.short	-19455
 1112 0162 C074     		.short	29888
 1113 0164 8075     		.short	30080
 1114 0166 41B5     		.short	-19135
 1115 0168 0077     		.short	30464
 1116 016a C1B7     		.short	-18495
 1117 016c 81B6     		.short	-18815
 1118 016e 4076     		.short	30272
 1119 0170 0072     		.short	29184
 1120 0172 C1B2     		.short	-19775
 1121 0174 81B3     		.short	-19583
 1122 0176 4073     		.short	29504
 1123 0178 01B1     		.short	-20223
 1124 017a C071     		.short	29120
 1125 017c 8070     		.short	28800
 1126 017e 41B0     		.short	-20415
 1127 0180 0050     		.short	20480
 1128 0182 C190     		.short	-28479
 1129 0184 8191     		.short	-28287
 1130 0186 4051     		.short	20800
 1131 0188 0193     		.short	-27903
 1132 018a C053     		.short	21440
 1133 018c 8052     		.short	21120
 1134 018e 4192     		.short	-28095
 1135 0190 0196     		.short	-27135
 1136 0192 C056     		.short	22208
 1137 0194 8057     		.short	22400
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 28


 1138 0196 4197     		.short	-26815
 1139 0198 0055     		.short	21760
 1140 019a C195     		.short	-27199
 1141 019c 8194     		.short	-27519
 1142 019e 4054     		.short	21568
 1143 01a0 019C     		.short	-25599
 1144 01a2 C05C     		.short	23744
 1145 01a4 805D     		.short	23936
 1146 01a6 419D     		.short	-25279
 1147 01a8 005F     		.short	24320
 1148 01aa C19F     		.short	-24639
 1149 01ac 819E     		.short	-24959
 1150 01ae 405E     		.short	24128
 1151 01b0 005A     		.short	23040
 1152 01b2 C19A     		.short	-25919
 1153 01b4 819B     		.short	-25727
 1154 01b6 405B     		.short	23360
 1155 01b8 0199     		.short	-26367
 1156 01ba C059     		.short	22976
 1157 01bc 8058     		.short	22656
 1158 01be 4198     		.short	-26559
 1159 01c0 0188     		.short	-30719
 1160 01c2 C048     		.short	18624
 1161 01c4 8049     		.short	18816
 1162 01c6 4189     		.short	-30399
 1163 01c8 004B     		.short	19200
 1164 01ca C18B     		.short	-29759
 1165 01cc 818A     		.short	-30079
 1166 01ce 404A     		.short	19008
 1167 01d0 004E     		.short	19968
 1168 01d2 C18E     		.short	-28991
 1169 01d4 818F     		.short	-28799
 1170 01d6 404F     		.short	20288
 1171 01d8 018D     		.short	-29439
 1172 01da C04D     		.short	19904
 1173 01dc 804C     		.short	19584
 1174 01de 418C     		.short	-29631
 1175 01e0 0044     		.short	17408
 1176 01e2 C184     		.short	-31551
 1177 01e4 8185     		.short	-31359
 1178 01e6 4045     		.short	17728
 1179 01e8 0187     		.short	-30975
 1180 01ea C047     		.short	18368
 1181 01ec 8046     		.short	18048
 1182 01ee 4186     		.short	-31167
 1183 01f0 0182     		.short	-32255
 1184 01f2 C042     		.short	17088
 1185 01f4 8043     		.short	17280
 1186 01f6 4183     		.short	-31935
 1187 01f8 0041     		.short	16640
 1188 01fa C181     		.short	-32319
 1189 01fc 8180     		.short	-32639
 1190 01fe 4040     		.short	16448
 1191              		.text
 1192              	.Letext0:
 1193              		.file 2 "c:\\users\\igorn\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@xpa
 1194              		.file 3 "c:\\users\\igorn\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-vscode\\@xpa
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 29


 1195              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 1196              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1197              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1198              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 1199              		.file 8 "Core/Src/NOS_LIB_Driver/Inc/NOS_Typedefs.h"
ARM GAS  C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 NOS_ModBus.c
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:21     .text.GetCRC16:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:27     .text.GetCRC16:00000000 GetCRC16
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:101    .text.GetCRC16:00000034 $d
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:934    .rodata.CRCTable.0:00000000 CRCTable.0
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:106    .text.NOS_ModBus_ParseMasterCommand:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:112    .text.NOS_ModBus_ParseMasterCommand:00000000 NOS_ModBus_ParseMasterCommand
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:286    .text.NOS_ModBus_ParseSlaveCommand:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:292    .text.NOS_ModBus_ParseSlaveCommand:00000000 NOS_ModBus_ParseSlaveCommand
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:374    .text.NOS_ModBus_AddShortValueToBuff:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:380    .text.NOS_ModBus_AddShortValueToBuff:00000000 NOS_ModBus_AddShortValueToBuff
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:394    .text.NOS_ModBus_SetSlaveCommand:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:400    .text.NOS_ModBus_SetSlaveCommand:00000000 NOS_ModBus_SetSlaveCommand
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:426    .text.NOS_ModBus_InitDevice:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:432    .text.NOS_ModBus_InitDevice:00000000 NOS_ModBus_InitDevice
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:470    .text.NOS_ModBus_ReceiveHandler:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:476    .text.NOS_ModBus_ReceiveHandler:00000000 NOS_ModBus_ReceiveHandler
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:722    .text.NOS_ModBus_InitStruct:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:728    .text.NOS_ModBus_InitStruct:00000000 NOS_ModBus_InitStruct
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:762    .text.NOS_ModBus_AddDevice:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:768    .text.NOS_ModBus_AddDevice:00000000 NOS_ModBus_AddDevice
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:825    .text.NOS_ModBus_DeleteDevice:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:831    .text.NOS_ModBus_DeleteDevice:00000000 NOS_ModBus_DeleteDevice
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:911    .text.NOS_ModBus_DeviceAddRegisterAddress:00000000 $t
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:917    .text.NOS_ModBus_DeviceAddRegisterAddress:00000000 NOS_ModBus_DeviceAddRegisterAddress
C:\Users\igorn\AppData\Local\Temp\ccdycGPZ.s:931    .rodata.CRCTable.0:00000000 $d

UNDEFINED SYMBOLS
HAL_UART_Receive_IT
